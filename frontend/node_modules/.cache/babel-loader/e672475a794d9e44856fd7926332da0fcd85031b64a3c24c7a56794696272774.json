{"ast":null,"code":"import _defineProperty from\"C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//Component for product creation and modification\nimport Box from\"@mui/material/Box\";import Grid from\"@mui/material/Grid\";import Typography from\"@mui/material/Typography\";import TextField from\"@mui/material/TextField\";import Button from\"@mui/material/Button\";import Backdrop from\"@mui/material/Backdrop\";import CircularProgress from\"@mui/material/CircularProgress\";import{useCallback,useContext,useEffect,useState}from\"react\";import useAuthentication from\"../../hooks/useAuthentication\";import{useLocation,useNavigate}from\"react-router-dom\";import{initCatalog}from\"../../store/actions/metadataAction\";import{connect}from\"react-redux\";import useServices from\"../../hooks/useServices\";import CreatableSelect from\"../creatableSelect/CreatableSelect\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(_ref){var categories=_ref.categories,mode=_ref.mode,headingText=_ref.headingText,buttonText=_ref.buttonText,callbackFunction=_ref.callbackFunction,jsonData=_ref.jsonData,reFetchAllData=_ref.reFetchAllData;jsonData=jsonData||{id:\"\",name:\"\",category:\"\",manufacturer:\"\",availableItems:\"\",price:\"\",imageUrl:\"\",description:\"\"};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),busy=_useState2[0],setBusy=_useState2[1];var _useServices=useServices(),ServicesCtx=_useServices.ServicesCtx;var _useContext=useContext(ServicesCtx),broadcastMessage=_useContext.broadcastMessage;var _useAuthentication=useAuthentication(),AuthCtx=_useAuthentication.AuthCtx;var _useContext2=useContext(AuthCtx),accessToken=_useContext2.accessToken,isAccessTokenValid=_useContext2.isAccessTokenValid,logout=_useContext2.logout;var navigate=useNavigate();var location=useLocation();var json=location.state;if(mode===undefined||mode===null){json=null;}else if(mode===\"MODIFY\"){if(json===null||json===undefined){json=null;}else{json=JSON.parse(json).value;if(json===null||json===undefined||json[\"id\"]===undefined||json.id===null){json=null;}}}jsonData=json||{id:\"\",name:\"\",category:\"\",manufacturer:\"\",availableItems:\"\",price:\"\",imageUrl:\"\",description:\"\"};var initPageData=useCallback(function(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:mode;var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:json;var redirect=arguments.length>2&&arguments[2]!==undefined?arguments[2]:navigate;var showMessage=arguments.length>3&&arguments[3]!==undefined?arguments[3]:broadcastMessage;if(type===null||type===\"MODIFY\"&&data===null){showMessage(\"Invalid access. Redirecting to home...\",\"warning\");redirect(\"/home\");}},[mode,json,navigate,broadcastMessage]);useEffect(function(){initPageData();},[initPageData]);var initialState={name:{value:jsonData.name,error:false,errorMessage:null},category:{value:jsonData.category,error:false,errorMessage:null},manufacturer:{value:jsonData.manufacturer,error:false,errorMessage:null},availableItems:{value:jsonData.availableItems,error:false,errorMessage:null},price:{value:jsonData.price,error:false,errorMessage:null},imageUrl:{value:jsonData.imageUrl,error:false,errorMessage:null},description:{value:jsonData.description,error:false,errorMessage:null}};var _useState3=useState(initialState),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var validateData=function validateData(){setBusy(true);var data=_objectSpread({},formData);var requestJson={};if(jsonData.hasOwnProperty(\"id\")&&jsonData.id.length>0){requestJson[\"id\"]=jsonData.id;}var valid=true;for(var k in formData){var _json=getValidity(k,formData[k].value);data[k]={value:data[k].value,error:!_json.valid,errorMessage:_json.message};valid=valid&&_json.valid;if(_json.valid){requestJson[k]=data[k].value;}}setFormData(data);if(valid){if(isAccessTokenValid()){callbackFunction(requestJson,accessToken).then(function(json){broadcastMessage(json.message,\"success\");setBusy(false);reFetchAllData(accessToken);navigate(\"/home\");}).catch(function(json){broadcastMessage(json.reason,\"error\");setBusy(false);});}else{broadcastMessage(\"Session expired. Please login again!\",\"info\");logout().then(function(){navigate(\"/login\");});}}else{setBusy(false);}};var matchRegex=function matchRegex(value,re){var regex=new RegExp(re);return regex.test(value);};var getValidity=function getValidity(field,value){var valid=true;var message=null;if(value==null||value.length===0){if(field!==\"imageUrl\"&&field!==\"description\"){valid=false;message=\"This field is required.\";}}else{switch(field){case\"name\":{if(value.length>255){valid=false;message=\"Product name can be of length 255 characters\";}else{valid=matchRegex(value,\"^([A-Za-z\\\\s]+)$\");message=\"Please enter valid product name.\";}break;}case\"category\":{if(value.length>255){valid=false;message=\"Category can be of length 255 characters\";}else{valid=matchRegex(value,\"^([A-Za-z-\\\\s]+)$\");message=\"Please enter valid category.\";}break;}case\"manufacturer\":{if(value.length>255){valid=false;message=\"Manufacturer can be of length 255 characters\";}else{valid=matchRegex(value,\"^([A-Za-z\\\\s]+)$\");message=\"Please enter valid manufacturer.\";}break;}case\"availableItems\":{valid=matchRegex(value,\"^([1-9]{1}[0-9]{0,8})$\");message=\"Please enter valid number.\";break;}case\"price\":{valid=matchRegex(value,\"^([1-9]{1}[0-9]{0,8})$\");message=\"Please enter valid amount.\";break;}case\"imageUrl\":{try{valid=Boolean(new URL(value));if(!valid){message=\"Please enter valid url.\";}}catch(e){valid=false;message=\"Please enter valid url.\";}break;}case\"description\":{if(value.length>255){valid=false;message=\"Description can be of length 255 characters\";}else{valid=matchRegex(value,\"^([A-Za-z0-9_@%*.-\\\\s\\\\[\\\\]\\\\,\\\\(\\\\)\\\\']{1,255})$\");message=\"Please enter valid description.\";}break;}default:{return;}}}return{valid:valid,message:message};};var validateAndSave=function validateAndSave(field,value){var json=getValidity(field,value);var data=_objectSpread({},formData);data[field]={value:value,error:!json.valid,errorMessage:json.message};setFormData(data);};var saveOnChange=function saveOnChange(field,value){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},field,_objectSpread(_objectSpread({},formData[field]),{},{value:value}))));};var onChangeCallback=function onChangeCallback(value){validateAndSave(\"category\",value);};return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:/*#__PURE__*/_jsxs(Grid,{container:true,item:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",noWrap:true,sx:{fontSize:\"25px\",color:'inherit'},children:headingText})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:\"30px\"},children:/*#__PURE__*/_jsx(TextField,{id:\"productName\",label:\"Name *\",variant:\"outlined\",fullWidth:true,value:formData.name.value,onChange:function onChange(event){return saveOnChange(\"name\",event.target.value);},onBlur:function onBlur(event){return validateAndSave(\"name\",event.target.value);},error:formData.name.error,helperText:formData.name.error&&formData.name.errorMessage})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:\"30px\"},children:/*#__PURE__*/_jsx(CreatableSelect,{id:\"category\",label:\"Category *\",variant:\"outlined\",fullWidth:true,value:formData.category.value,onChange:onChangeCallback,onBlur:onChangeCallback,error:formData.category.error,helperText:formData.category.error&&formData.category.errorMessage,options:categories})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:\"30px\"},children:/*#__PURE__*/_jsx(TextField,{id:\"manufacturer\",label:\"Manufacturer *\",variant:\"outlined\",fullWidth:true,value:formData.manufacturer.value,onChange:function onChange(event){return saveOnChange(\"manufacturer\",event.target.value);},onBlur:function onBlur(event){return validateAndSave(\"manufacturer\",event.target.value);},error:formData.manufacturer.error,helperText:formData.manufacturer.error&&formData.manufacturer.errorMessage})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:\"30px\"},children:/*#__PURE__*/_jsx(TextField,{id:\"availableItems\",label:\"Available Items *\",variant:\"outlined\",fullWidth:true,value:formData.availableItems.value,onChange:function onChange(event){return saveOnChange(\"availableItems\",event.target.value);},onBlur:function onBlur(event){return validateAndSave(\"availableItems\",event.target.value);},error:formData.availableItems.error,helperText:formData.availableItems.error&&formData.availableItems.errorMessage})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:\"30px\"},children:/*#__PURE__*/_jsx(TextField,{id:\"price\",label:\"Price *\",variant:\"outlined\",fullWidth:true,value:formData.price.value,onChange:function onChange(event){return saveOnChange(\"price\",event.target.value);},onBlur:function onBlur(event){return validateAndSave(\"price\",event.target.value);},error:formData.price.error,helperText:formData.price.error&&formData.price.errorMessage})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:\"30px\"},children:/*#__PURE__*/_jsx(TextField,{id:\"imageUrl\",label:\"Image URL\",variant:\"outlined\",fullWidth:true,value:formData.imageUrl.value,onChange:function onChange(event){return saveOnChange(\"imageUrl\",event.target.value);},onBlur:function onBlur(event){return validateAndSave(\"imageUrl\",event.target.value);},error:formData.imageUrl.error,helperText:formData.imageUrl.error&&formData.imageUrl.errorMessage})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:\"30px\"},children:/*#__PURE__*/_jsx(TextField,{id:\"description\",label:\"Product Description\",variant:\"outlined\",fullWidth:true,value:formData.description.value,onChange:function onChange(event){return saveOnChange(\"description\",event.target.value);},onBlur:function onBlur(event){return validateAndSave(\"description\",event.target.value);},error:formData.description.error,helperText:formData.description.error&&formData.description.errorMessage})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:\"30px\"},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",fullWidth:true,onClick:validateData,children:buttonText})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4})]})}),/*#__PURE__*/_jsx(Backdrop,{sx:{color:'#fff',zIndex:function zIndex(theme){return theme.zIndex.drawer+1;}},open:busy,children:/*#__PURE__*/_jsx(CircularProgress,{color:\"inherit\"})})]});};var mapStateToProps=function mapStateToProps(state){return{productList:state.metadata.products,sortBy:state.metadata.selectedSortBy,category:state.metadata.selectedCategory,categories:state.metadata.categories};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{reFetchAllData:function reFetchAllData(accessToken){return dispatch(initCatalog(accessToken));}};};export default connect(mapStateToProps,mapDispatchToProps)(ProductPage);","map":{"version":3,"names":["Box","Grid","Typography","TextField","Button","Backdrop","CircularProgress","useCallback","useContext","useEffect","useState","useAuthentication","useLocation","useNavigate","initCatalog","connect","useServices","CreatableSelect","jsx","_jsx","jsxs","_jsxs","ProductPage","_ref","categories","mode","headingText","buttonText","callbackFunction","jsonData","reFetchAllData","id","name","category","manufacturer","availableItems","price","imageUrl","description","_useState","_useState2","_slicedToArray","busy","setBusy","_useServices","ServicesCtx","_useContext","broadcastMessage","_useAuthentication","AuthCtx","_useContext2","accessToken","isAccessTokenValid","logout","navigate","location","json","state","undefined","JSON","parse","value","initPageData","type","arguments","length","data","redirect","showMessage","initialState","error","errorMessage","_useState3","_useState4","formData","setFormData","validateData","_objectSpread","requestJson","hasOwnProperty","valid","k","getValidity","message","then","catch","reason","matchRegex","re","regex","RegExp","test","field","Boolean","URL","e","validateAndSave","saveOnChange","_defineProperty","onChangeCallback","sx","flexGrow","children","container","spacing","item","xs","style","display","justifyContent","variant","noWrap","fontSize","color","marginTop","label","fullWidth","onChange","event","target","onBlur","helperText","options","onClick","zIndex","theme","drawer","open","mapStateToProps","productList","metadata","products","sortBy","selectedSortBy","selectedCategory","mapDispatchToProps","dispatch"],"sources":["C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/src/components/productPage/ProductPage.jsx"],"sourcesContent":["//Component for product creation and modification\n\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport Typography from \"@mui/material/Typography\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport {useCallback, useContext, useEffect, useState} from \"react\";\nimport useAuthentication from \"../../hooks/useAuthentication\";\nimport {useLocation, useNavigate} from \"react-router-dom\";\nimport {initCatalog} from \"../../store/actions/metadataAction\";\nimport {connect} from \"react-redux\";\nimport useServices from \"../../hooks/useServices\";\nimport CreatableSelect from \"../creatableSelect/CreatableSelect\";\n\nconst ProductPage = ({categories, mode, headingText, buttonText, callbackFunction, jsonData, reFetchAllData}) => {\n\n\tjsonData = jsonData || {\n\t\tid: \"\",\n\t\tname: \"\",\n\t\tcategory: \"\",\n\t\tmanufacturer: \"\",\n\t\tavailableItems: \"\",\n\t\tprice: \"\",\n\t\timageUrl: \"\",\n\t\tdescription: \"\",\n\t};\n\tconst [busy, setBusy] = useState(false);\n\tconst {ServicesCtx} = useServices();\n\tconst {broadcastMessage} = useContext(ServicesCtx);\n\tconst {AuthCtx} = useAuthentication();\n\tconst {accessToken, isAccessTokenValid, logout} = useContext(AuthCtx);\n\tconst navigate = useNavigate();\n\tconst location = useLocation();\n\tlet json = location.state;\n\tif(mode === undefined || mode === null) {\n\t\tjson = null;\n\t} else if(mode === \"MODIFY\") {\n\t\tif(json === null || json === undefined) {\n\t\t\tjson = null;\n\t\t} else {\n\t\t\tjson = JSON.parse(json).value;\n\t\t\tif(json === null || json === undefined || json[\"id\"] === undefined || json.id === null) {\n\t\t\t\tjson = null;\n\t\t\t}\n\t\t}\n\t}\n\tjsonData = json || {\n\t\tid: \"\",\n\t\tname: \"\",\n\t\tcategory: \"\",\n\t\tmanufacturer: \"\",\n\t\tavailableItems: \"\",\n\t\tprice: \"\",\n\t\timageUrl: \"\",\n\t\tdescription: \"\",\n\t};\n\tconst initPageData = useCallback((type = mode, data = json, redirect = navigate, showMessage = broadcastMessage) => {\n\t\tif(type === null || (type === \"MODIFY\" && data === null)) {\n\t\t\tshowMessage(\"Invalid access. Redirecting to home...\", \"warning\");\n\t\t\tredirect(\"/home\");\n\t\t}\n\t}, [mode, json, navigate, broadcastMessage]);\n\tuseEffect(() => {\n\t\tinitPageData();\n\t}, [initPageData]);\n\n\tlet initialState = {\n\t\tname: {\n\t\t\tvalue: jsonData.name,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tcategory: {\n\t\t\tvalue: jsonData.category,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tmanufacturer: {\n\t\t\tvalue: jsonData.manufacturer,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tavailableItems: {\n\t\t\tvalue: jsonData.availableItems,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tprice: {\n\t\t\tvalue: jsonData.price,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\timageUrl: {\n\t\t\tvalue: jsonData.imageUrl,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tdescription: {\n\t\t\tvalue: jsonData.description,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t};\n\n\tconst [formData, setFormData] = useState(initialState);\n\n\tlet validateData = () => {\n\t\tsetBusy(true);\n\t\tlet data = {\n\t\t\t...formData\n\t\t};\n\t\tlet requestJson = {};\n\t\tif(jsonData.hasOwnProperty(\"id\") && jsonData.id.length > 0) {\n\t\t\trequestJson[\"id\"] = jsonData.id;\n\t\t}\n\t\tlet valid = true;\n\t\tfor(let k in formData) {\n\t\t\tlet json = getValidity(k, formData[k].value);\n\t\t\tdata[k] = {\n\t\t\t\tvalue: data[k].value,\n\t\t\t\terror: !json.valid,\n\t\t\t\terrorMessage: json.message,\n\t\t\t};\n\t\t\tvalid = valid && json.valid;\n\t\t\tif(json.valid) {\n\t\t\t\trequestJson[k] = data[k].value;\n\t\t\t}\n\t\t}\n\t\tsetFormData(data);\n\t\tif(valid) {\n\t\t\tif(isAccessTokenValid()) {\n\t\t\t\tcallbackFunction(requestJson, accessToken).then(json => {\n\t\t\t\t\tbroadcastMessage(json.message, \"success\");\n\t\t\t\t\tsetBusy(false);\n\t\t\t\t\treFetchAllData(accessToken);\n\t\t\t\t\tnavigate(\"/home\");\n\t\t\t\t}).catch(json => {\n\t\t\t\t\tbroadcastMessage(json.reason, \"error\");\n\t\t\t\t\tsetBusy(false);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbroadcastMessage(\"Session expired. Please login again!\", \"info\");\n\t\t\t\tlogout().then(() => {\n\t\t\t\t\tnavigate(\"/login\");\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tsetBusy(false);\n\t\t}\n\t};\n\n\tlet matchRegex = (value, re) => {\n\t\tlet regex = new RegExp(re);\n\t\treturn regex.test(value);\n\t}\n\n\tlet getValidity = (field, value) => {\n\t\tlet valid = true;\n\t\tlet message = null;\n\t\tif(value == null || value.length === 0) {\n\t\t\tif(field !== \"imageUrl\" && field !== \"description\") {\n\t\t\t\tvalid = false;\n\t\t\t\tmessage = \"This field is required.\";\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (field) {\n\t\t\t\tcase \"name\": {\n\t\t\t\t\tif(value.length > 255) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Product name can be of length 255 characters\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = matchRegex(value, \"^([A-Za-z\\\\s]+)$\");\n\t\t\t\t\t\tmessage = \"Please enter valid product name.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"category\": {\n\t\t\t\t\tif(value.length > 255) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Category can be of length 255 characters\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = matchRegex(value, \"^([A-Za-z-\\\\s]+)$\");\n\t\t\t\t\t\tmessage = \"Please enter valid category.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"manufacturer\": {\n\t\t\t\t\tif(value.length > 255) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Manufacturer can be of length 255 characters\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = matchRegex(value, \"^([A-Za-z\\\\s]+)$\");\n\t\t\t\t\t\tmessage = \"Please enter valid manufacturer.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"availableItems\": {\n\t\t\t\t\tvalid = matchRegex(value, \"^([1-9]{1}[0-9]{0,8})$\");\n\t\t\t\t\tmessage = \"Please enter valid number.\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"price\": {\n\t\t\t\t\tvalid = matchRegex(value, \"^([1-9]{1}[0-9]{0,8})$\");\n\t\t\t\t\tmessage = \"Please enter valid amount.\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"imageUrl\": {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvalid = Boolean(new URL(value));\n\t\t\t\t\t\tif(!valid) {\n\t\t\t\t\t\t\tmessage = \"Please enter valid url.\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e){\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Please enter valid url.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"description\": {\n\t\t\t\t\tif(value.length > 255) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Description can be of length 255 characters\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = matchRegex(value, \"^([A-Za-z0-9_@%*.-\\\\s\\\\[\\\\]\\\\,\\\\(\\\\)\\\\']{1,255})$\");\n\t\t\t\t\t\tmessage = \"Please enter valid description.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault : {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tvalid,\n\t\t\tmessage\n\t\t};\n\t};\n\n\tlet validateAndSave = (field, value) => {\n\t\tlet json = getValidity(field, value);\n\t\tlet data = {\n\t\t\t...formData\n\t\t};\n\t\tdata[field] = {\n\t\t\tvalue: value,\n\t\t\terror: !json.valid,\n\t\t\terrorMessage: json.message,\n\t\t}\n\t\tsetFormData(data);\n\t};\n\n\tlet saveOnChange = (field, value) => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[field]:{\n\t\t\t\t...formData[field],\n\t\t\t\tvalue\n\t\t\t}\n\t\t});\n\t};\n\n\tlet onChangeCallback = (value) => {\n\t\tvalidateAndSave(\"category\", value)\n\t};\n\n\treturn (\n\t\t<Box sx={{flexGrow: 1}}>\n\t\t\t<Grid container spacing={1}>\n\t\t\t\t<Grid container item spacing={3}>\n\t\t\t\t\t<Grid item xs={4}/>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center'}}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tfontSize: \"25px\",\n\t\t\t\t\t\t\t\t\tcolor: 'inherit',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{headingText}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"productName\"\n\t\t\t\t\t\t\t\tlabel=\"Name *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.name.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"name\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"name\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.name.error}\n\t\t\t\t\t\t\t\thelperText={formData.name.error && formData.name.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<CreatableSelect\n\t\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\t\tlabel=\"Category *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.category.value}\n\t\t\t\t\t\t\t\tonChange={onChangeCallback}\n\t\t\t\t\t\t\t\tonBlur={onChangeCallback}\n\t\t\t\t\t\t\t\terror={formData.category.error}\n\t\t\t\t\t\t\t\thelperText={formData.category.error && formData.category.errorMessage}\n\t\t\t\t\t\t\t\toptions={categories}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"manufacturer\"\n\t\t\t\t\t\t\t\tlabel=\"Manufacturer *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.manufacturer.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"manufacturer\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"manufacturer\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.manufacturer.error}\n\t\t\t\t\t\t\t\thelperText={formData.manufacturer.error && formData.manufacturer.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"availableItems\"\n\t\t\t\t\t\t\t\tlabel=\"Available Items *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.availableItems.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"availableItems\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"availableItems\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.availableItems.error}\n\t\t\t\t\t\t\t\thelperText={formData.availableItems.error && formData.availableItems.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"price\"\n\t\t\t\t\t\t\t\tlabel=\"Price *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.price.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"price\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"price\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.price.error}\n\t\t\t\t\t\t\t\thelperText={formData.price.error && formData.price.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"imageUrl\"\n\t\t\t\t\t\t\t\tlabel=\"Image URL\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.imageUrl.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"imageUrl\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"imageUrl\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.imageUrl.error}\n\t\t\t\t\t\t\t\thelperText={formData.imageUrl.error && formData.imageUrl.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tlabel=\"Product Description\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.description.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"description\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"description\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.description.error}\n\t\t\t\t\t\t\t\thelperText={formData.description.error && formData.description.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tonClick={validateData}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{buttonText}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Backdrop\n\t\t\t\tsx={{color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1}}\n\t\t\t\topen={busy}\n\t\t\t>\n\t\t\t\t<CircularProgress color=\"inherit\"/>\n\t\t\t</Backdrop>\n\t\t</Box>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tproductList: state.metadata.products,\n\t\tsortBy: state.metadata.selectedSortBy,\n\t\tcategory: state.metadata.selectedCategory,\n\t\tcategories: state.metadata.categories,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\treFetchAllData: (accessToken) => dispatch(initCatalog(accessToken)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductPage);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}