{"ast":null,"code":"import _slicedToArray from\"C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//Product category toggle button\nimport{ToggleButton,ToggleButtonGroup}from\"@mui/material\";import{clearFilter,setFilter}from\"../../store/actions/metadataAction\";import{connect}from\"react-redux\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProductCategory=function ProductCategory(_ref){var filter=_ref.filter,categories=_ref.categories,changeFilter=_ref.changeFilter,removeFilter=_ref.removeFilter;var _useState=useState(filter||\"ALL\"),_useState2=_slicedToArray(_useState,2),filterValue=_useState2[0],setFilterValue=_useState2[1];useEffect(function(){var newValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:filterValue;var array=arguments.length>1&&arguments[1]!==undefined?arguments[1]:categories;var exists=false;for(var i=0;i<array.length;i++){if(array[i]===newValue){exists=true;break;}}if(!exists){clearFilter();setFilterValue(\"ALL\");}},[filterValue,categories]);var handleAlignment=function handleAlignment(event,newAlignment){if(newAlignment!=null){setFilterValue(newAlignment);if(newAlignment===\"ALL\"){removeFilter();}else{changeFilter(newAlignment);}}};return/*#__PURE__*/_jsx(ToggleButtonGroup,{value:filterValue,exclusive:true,onChange:handleAlignment,\"aria-label\":\"categories\",children:categories!==null&&categories.map(function(element,index){return/*#__PURE__*/_jsx(ToggleButton,{value:element,\"aria-label\":element,children:element.toUpperCase()},\"category_\"+index);})});};var mapStateToProps=function mapStateToProps(state){return{filter:state.metadata.selectedCategory,categories:state.metadata.categories};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{changeFilter:function changeFilter(category){return dispatch(setFilter(category));},removeFilter:function removeFilter(){return dispatch(clearFilter());}};};export default connect(mapStateToProps,mapDispatchToProps)(ProductCategory);","map":{"version":3,"names":["ToggleButton","ToggleButtonGroup","clearFilter","setFilter","connect","useEffect","useState","jsx","_jsx","ProductCategory","_ref","filter","categories","changeFilter","removeFilter","_useState","_useState2","_slicedToArray","filterValue","setFilterValue","newValue","arguments","length","undefined","array","exists","i","handleAlignment","event","newAlignment","value","exclusive","onChange","children","map","element","index","toUpperCase","mapStateToProps","state","metadata","selectedCategory","mapDispatchToProps","dispatch","category"],"sources":["C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/src/components/productCategory/ProductCategory.jsx"],"sourcesContent":["//Product category toggle button\n\nimport {ToggleButton, ToggleButtonGroup} from \"@mui/material\";\nimport {clearFilter, setFilter} from \"../../store/actions/metadataAction\";\nimport {connect} from \"react-redux\";\nimport {useEffect, useState} from \"react\";\n\nconst ProductCategory = ({filter, categories, changeFilter, removeFilter}) => {\n\tconst [filterValue, setFilterValue] = useState(filter || \"ALL\");\n\n\tuseEffect((newValue = filterValue, array = categories) => {\n\t\tlet exists = false;\n\t\tfor(let i = 0; i < array.length; i++) {\n\t\t\tif(array[i] === newValue) {\n\t\t\t\texists = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(!exists) {\n\t\t\tclearFilter();\n\t\t\tsetFilterValue(\"ALL\");\n\t\t}\n\t}, [filterValue, categories]);\n\t\n\tconst handleAlignment = (event, newAlignment) => {\n\t\tif(newAlignment != null) {\n\t\t\tsetFilterValue(newAlignment);\n\t\t\tif (newAlignment === \"ALL\") {\n\t\t\t\tremoveFilter();\n\t\t\t} else {\n\t\t\t\tchangeFilter(newAlignment);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<ToggleButtonGroup\n\t\t\tvalue={filterValue}\n\t\t\texclusive\n\t\t\tonChange={handleAlignment}\n\t\t\taria-label=\"categories\"\n\t\t>\n\t\t\t{categories !== null && categories.map((element, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\tkey={\"category_\" + index}\n\t\t\t\t\t\tvalue={element}\n\t\t\t\t\t\taria-label={element}>\n\t\t\t\t\t\t{element.toUpperCase()}\n\t\t\t\t\t</ToggleButton>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ToggleButtonGroup>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfilter: state.metadata.selectedCategory,\n\t\tcategories: state.metadata.categories,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeFilter: (category) => dispatch(setFilter(category)),\n\t\tremoveFilter: () => dispatch(clearFilter()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCategory);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}