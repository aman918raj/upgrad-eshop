{"ast":null,"code":"//Protected Component for restricting access\nimport useAuthentication from\"../../hooks/useAuthentication\";import{useContext}from\"react\";import Login from\"../login/Login\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProtectedRoute=function ProtectedRoute(_ref){var role=_ref.role,children=_ref.children;var _useAuthentication=useAuthentication(),AuthCtx=_useAuthentication.AuthCtx;var _useContext=useContext(AuthCtx),loggedInUser=_useContext.loggedInUser,hasRole=_useContext.hasRole;var page=/*#__PURE__*/_jsx(Login,{});if(loggedInUser!==null){if(hasRole(role)){page=children;}else{page=/*#__PURE__*/_jsx(Navigate,{to:\"/home\"});}}return page;};export default ProtectedRoute;","map":{"version":3,"names":["useAuthentication","useContext","Login","Navigate","jsx","_jsx","ProtectedRoute","_ref","role","children","_useAuthentication","AuthCtx","_useContext","loggedInUser","hasRole","page","to"],"sources":["C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/src/components/protectedRoute/ProtectedRoute.jsx"],"sourcesContent":["//Protected Component for restricting access\n\nimport useAuthentication from \"../../hooks/useAuthentication\";\nimport {useContext} from \"react\";\nimport Login from \"../login/Login\";\nimport {Navigate} from \"react-router-dom\";\n\nconst ProtectedRoute = ({ role, children }) => {\n\tconst {AuthCtx} = useAuthentication();\n\tconst {loggedInUser, hasRole} = useContext(AuthCtx);\n\tlet page = <Login />;\n\tif(loggedInUser !== null) {\n\t\tif(hasRole(role)) {\n\t\t\tpage = children;\n\t\t} else {\n\t\t\tpage = <Navigate to={\"/home\"} />;\n\t\t}\n\t}\n\treturn page;\n};\n\nexport default ProtectedRoute;"],"mappings":"AAAA;AAEA,MAAO,CAAAA,iBAAiB,KAAM,+BAA+B,CAC7D,OAAQC,UAAU,KAAO,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,OAAQC,QAAQ,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,IAAA,CAA2B,IAArB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CACvC,IAAAC,kBAAA,CAAkBV,iBAAiB,CAAC,CAAC,CAA9BW,OAAO,CAAAD,kBAAA,CAAPC,OAAO,CACd,IAAAC,WAAA,CAAgCX,UAAU,CAACU,OAAO,CAAC,CAA5CE,YAAY,CAAAD,WAAA,CAAZC,YAAY,CAAEC,OAAO,CAAAF,WAAA,CAAPE,OAAO,CAC5B,GAAI,CAAAC,IAAI,cAAGV,IAAA,CAACH,KAAK,GAAE,CAAC,CACpB,GAAGW,YAAY,GAAK,IAAI,CAAE,CACzB,GAAGC,OAAO,CAACN,IAAI,CAAC,CAAE,CACjBO,IAAI,CAAGN,QAAQ,CAChB,CAAC,IAAM,CACNM,IAAI,cAAGV,IAAA,CAACF,QAAQ,EAACa,EAAE,CAAE,OAAQ,CAAE,CAAC,CACjC,CACD,CACA,MAAO,CAAAD,IAAI,CACZ,CAAC,CAED,cAAe,CAAAT,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}