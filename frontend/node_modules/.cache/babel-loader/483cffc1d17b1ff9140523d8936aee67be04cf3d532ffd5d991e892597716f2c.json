{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";//Rest APIs for category\nexport var fetchAllCategories=function fetchAllCategories(accessToken){//Note: we are returning promise so that we can resolve it by using appropriate data type like json or text\n//caller of the function should only be concerned with returned data on success or failure message\nvar promiseResolveRef=null;var promiseRejectRef=null;var promise=new Promise(function(resolve,reject){promiseResolveRef=resolve;promiseRejectRef=reject;});fetch('http://localhost:8080/api/products/categories',{method:'GET',headers:{'x-auth-token':accessToken}}).then(function(response){response.json().then(function(json){//capitalise every category\n//show only unique\nvar arr=[];for(var i=0;i<json.length;i++){var c=json[i].toUpperCase();if(!arr.includes(c)){arr.push(c);}}arr.sort();arr=[\"ALL\"].concat(_toConsumableArray(arr));if(response.ok){promiseResolveRef({data:arr,response:response});}else{promiseRejectRef({reason:\"Server error occurred.\",response:response});}});}).catch(function(err){promiseRejectRef({reason:\"Some error occurred.\",response:err});});return promise;};","map":{"version":3,"names":["fetchAllCategories","accessToken","promiseResolveRef","promiseRejectRef","promise","Promise","resolve","reject","fetch","method","headers","then","response","json","arr","i","length","c","toUpperCase","includes","push","sort","concat","_toConsumableArray","ok","data","reason","catch","err"],"sources":["C:/Users/Home/Documents/UpGrad-Project/upgrad-eshop/frontend/src/api/categoryAPIs.js"],"sourcesContent":["//Rest APIs for category\n\nexport const fetchAllCategories = (accessToken) => {\n\t//Note: we are returning promise so that we can resolve it by using appropriate data type like json or text\n\t//caller of the function should only be concerned with returned data on success or failure message\n\tlet promiseResolveRef = null;\n\tlet promiseRejectRef = null;\n\tlet promise = new Promise((resolve, reject) => {\n\t\tpromiseResolveRef = resolve;\n\t\tpromiseRejectRef = reject;\n\t});\n\tfetch('http://localhost:8080/api/products/categories', {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t'x-auth-token': accessToken,\n\t\t},\n\t}).then((response) => {\n\t\tresponse.json().then((json) => {\n\t\t\t//capitalise every category\n\t\t\t//show only unique\n\t\t\tlet arr = [];\n\t\t\tfor(let i = 0; i < json.length; i++) {\n\t\t\t\tlet c = json[i].toUpperCase();\n\t\t\t\tif(!arr.includes(c)) {\n\t\t\t\t\tarr.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t\tarr.sort();\n\t\t\tarr = [\"ALL\", ...arr];\n\t\t\tif(response.ok) {\n\t\t\t\tpromiseResolveRef({\n\t\t\t\t\tdata: arr,\n\t\t\t\t\tresponse: response,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromiseRejectRef({\n\t\t\t\t\treason: \"Server error occurred.\",\n\t\t\t\t\tresponse: response,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}).catch((err) => {\n\t\tpromiseRejectRef({\n\t\t\treason: \"Some error occurred.\",\n\t\t\tresponse: err,\n\t\t});\n\t});\n\treturn promise;\n};"],"mappings":"0JAAA;AAEA,MAAO,IAAM,CAAAA,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,WAAW,CAAK,CAClD;AACA;AACA,GAAI,CAAAC,iBAAiB,CAAG,IAAI,CAC5B,GAAI,CAAAC,gBAAgB,CAAG,IAAI,CAC3B,GAAI,CAAAC,OAAO,CAAG,GAAI,CAAAC,OAAO,CAAC,SAACC,OAAO,CAAEC,MAAM,CAAK,CAC9CL,iBAAiB,CAAGI,OAAO,CAC3BH,gBAAgB,CAAGI,MAAM,CAC1B,CAAC,CAAC,CACFC,KAAK,CAAC,+CAA+C,CAAE,CACtDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACR,cAAc,CAAET,WACjB,CACD,CAAC,CAAC,CAACU,IAAI,CAAC,SAACC,QAAQ,CAAK,CACrBA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAACE,IAAI,CAAK,CAC9B;AACA;AACA,GAAI,CAAAC,GAAG,CAAG,EAAE,CACZ,IAAI,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,IAAI,CAACG,MAAM,CAAED,CAAC,EAAE,CAAE,CACpC,GAAI,CAAAE,CAAC,CAAGJ,IAAI,CAACE,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC,CAC7B,GAAG,CAACJ,GAAG,CAACK,QAAQ,CAACF,CAAC,CAAC,CAAE,CACpBH,GAAG,CAACM,IAAI,CAACH,CAAC,CAAC,CACZ,CACD,CACAH,GAAG,CAACO,IAAI,CAAC,CAAC,CACVP,GAAG,EAAI,KAAK,EAAAQ,MAAA,CAAAC,kBAAA,CAAKT,GAAG,EAAC,CACrB,GAAGF,QAAQ,CAACY,EAAE,CAAE,CACftB,iBAAiB,CAAC,CACjBuB,IAAI,CAAEX,GAAG,CACTF,QAAQ,CAAEA,QACX,CAAC,CAAC,CACH,CAAC,IAAM,CACNT,gBAAgB,CAAC,CAChBuB,MAAM,CAAE,wBAAwB,CAChCd,QAAQ,CAAEA,QACX,CAAC,CAAC,CACH,CACD,CAAC,CAAC,CACH,CAAC,CAAC,CAACe,KAAK,CAAC,SAACC,GAAG,CAAK,CACjBzB,gBAAgB,CAAC,CAChBuB,MAAM,CAAE,sBAAsB,CAC9Bd,QAAQ,CAAEgB,GACX,CAAC,CAAC,CACH,CAAC,CAAC,CACF,MAAO,CAAAxB,OAAO,CACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}